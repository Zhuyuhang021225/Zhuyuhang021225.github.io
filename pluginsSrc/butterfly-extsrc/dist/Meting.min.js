console.log("\n %c MetingJS v1.2.0 %c https://github.com/metowolf/MetingJS \n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;");let aplayers=[],loadMeting=()=>{let t="https://api.i-meto.com/meting/api?server=:server&type=:type&id=:id&r=:r";"undefined"!=typeof meting_api&&(t=meting_api);for(let t=0;t<aplayers.length;t++)if(!aplayers[t].container.classList.contains("no-destroy"))try{aplayers[t].destroy()}catch(t){console.log(t)}aplayers=[];let e=document.querySelectorAll(".aplayer");for(var a=0;a<e.length;a++){const l=e[a];if(l.classList.contains("no-reload"))continue;if(l.classList.contains("no-destroy")&&l.classList.add("no-reload"),l.dataset.id){let e=l.dataset.api||t;e=e.replace(":server",l.dataset.server),e=e.replace(":type",l.dataset.type),e=e.replace(":id",l.dataset.id),e=e.replace(":auth",l.dataset.auth),e=e.replace(":r",Math.random());const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(4===a.readyState&&(a.status>=200&&a.status<300||304===a.status)){let t=JSON.parse(a.responseText);s(l,t)}},a.open("get",e,!0),a.send(null)}else if(l.dataset.url){let t=[{name:l.dataset.name||l.dataset.title||"Audio name",artist:l.dataset.artist||l.dataset.author||"Audio artist",url:l.dataset.url,cover:l.dataset.cover||l.dataset.pic,lrc:l.dataset.lrc,type:l.dataset.type||"auto"}];s(l,t)}}function s(t,e){let a={container:t,audio:e,mini:null,fixed:null,autoplay:!1,mutex:!0,lrcType:3,listFolded:!1,preload:"auto",theme:"#2980b9",loop:"all",order:"list",volume:null,listMaxHeight:null,customAudioType:null,storageName:"metingjs"};if(!e.length)return;e[0].lrc||(a.lrcType=0);let s={};for(const e in a){let l=e.toLowerCase();(t.dataset.hasOwnProperty(l)||t.dataset.hasOwnProperty(e)||null!==a[e])&&(s[e]=t.dataset[l]||t.dataset[e]||a[e],"true"!==s[e]&&"false"!==s[e]||(s[e]="true"==s[e]))}aplayers.push(new APlayer(s))}};document.addEventListener("DOMContentLoaded",loadMeting,!1);